---
type: task
status: inbox
author: takeikumi
created: 2026-01-21
updated: 2026-01-21
tags:
  - task
  - obsidian
  - filter
project: ""
priority: high
mode: development
context: []
dependencies: []
---

# 大規模にリファクタリングが必要

## 目的

マークダウンファイルが不必要に肥大化してしまっているため、整理・最適化を行います。
現状問題なく動いていても、このままだと将来的に管理が困難になる可能性が高いです。

~~現在の案件先の~~よくある社内ドキュメントの失敗例のように、不必要であったり冗長な情報が蓄積されてしまい、検索性や可読性が低下してしまうことを防ぐ仕組みが必要だと感じました。

武さんと話し合って、以下のポイントを修正していきたいです！

何でもかんでも厳密に適用しなくても良いですが、方針を決めて大雑把に AI に投げたり、AI の自動作業用の Skills に組み込むのが良いと思います。

## 修正したいポイント

端的に言うと、研究者のメモがそのまま蓄積されてしまっている状態に近い印象です。
他人や AI に読ませるものと読ませないものを明確に分け、構造や説明を明瞭かつシンプルにする必要があります。

### リポジトリに含める/含めないの基準

基本的にリポジトリは共有するもののみを置く場所とし、個人のメモは別にしたほうが良いかと思いました
自分はよく共有リポジトリで作業する際に gitignore 指定や local ブランチで個人メモを管理しつつ、最終的に蒸留したものだけを main ブランチにマージする運用をしています。

- **リポジトリに必要なもの**
  - プロジェクトの構造や設計方針 (docs 相当)
  - 作業手順 (Skills 相当)
  - 実験記録 (experiments 相当)
  - 基礎知識 (permanent_notes、できれば docs に落とし込んで存在しないのがベター)
- **リポジトリに不要なもの**
  - 個人のメモ (references, structure や思想ノート等)

### ファイル内のコード行数

基本的にファイル内のコード行数は**多くても 300 行以下、できれば 150 行以下**に抑えるというのが一般的です。
これはマークダウンも同様で、1 ファイルあたりの行数が多すぎると可読性、検索性が低下します。
もし 300 行を超えるようであれば、内容を分割するようにしましょう。
これはなさそうでしたが、一行が長すぎる (約 100 文字以上) のも可読性を下げるので避けるべきです。

### マークダウン構造

マークダウンの見出し構造が深すぎると可読性が低下します。
一般的なドキュメントでは**見出し3レベル（###）程度まで**を使用し、それ以上深くしないようにしましょう。
もし深くなる場合は、内容を分割して別ファイルにすることを検討してください。

### リンクの貼り方

リンク切れをいくつか発見しました。python スクリプトを作ってぱぱっと修正するのが良さそうです。

次に、permanent_notes 内には多くのリンクが貼られていますが、基本的にこれらは同じ permanent_notes 内の他のノートのみを参照しなければならないと思います。
運用上できれば、個人のメモを排除したいため、リンクも permanent_notes 内のみに限定したいです。

また、優先度は低いですが、リンクを貼るときの表記が不統一なので、統一する必要があります。
一旦 wiki リンクでもいいとはおもいますが、AI が内部的に使用するコマンド (`cd ./docs/~`) を考慮すると、できればリポジトリトップからの相対パスで統一するのが望ましいかもしれません。
`[title](./docs/title.md)` 形式だと VSCode 上でもリンク先に飛べるので便利です。

### ファイルの命名と内容の不一致

内容とファイル名が一致していない場合、可読性や検索性が低下します。
例えば[project_architecture](docs/project_architecture.md)が特に難解になってしまっていると感じました。

まず、「project_architecture」という命名が明確にも関わらず、内部でロードマップ、タスク管理、チーム運用などシステム設計以外に踏み込んでしまっています。
これだと、自分や AI がシステム設計を確認したいときに、余計な情報が多すぎて目的の情報にたどり着けなくなってしまいます。
また逆にタスクが完了したにもかかわらず、project_architecture 内の情報は更新されない可能性が非常に高いです。
検索時にも関係ない記述が引っかかってしまうため、ロードマップは「roadmap.md」、タスク管理は「task_management.md」、チーム運用は「team_operations.md」などに分割したほうが良いでしょう。

### 内容重複・冗長な説明の削除

重複した内容が多いため、リンクや別ファイル切り出しを用いて整理したり、一部内容を削除する必要がありそうです。
例えば[project_architecture](docs/project_architecture.md)が特に難解になってしまっていると感じました。

次に、内部でフォルダ構造の説明が幾度もされていますが、ディレクトリごとの説明があるのでページ内リンクで参照して、各一回説明すれば十分です。
また、gitignore, json, templetes, python コードの説明も、必要があれば AI も人も参照するので、上記と同様リンクで十分です。
現在の方法で記載すると将来的に必ず「docs/ に書いてあったことと実装が違う」という問題が発生するため、docs を読んだ AI による誤実装が加速度的に増えてしまうリスクがあります。
他のサンプル提示用コードブロックも場合によっては新規に _samples.json 等を作成してそちらにまとめ、リンクで参照する形にしたほうが良いでしょう。
端的に言えば、**二重管理を避ける**ということです。
