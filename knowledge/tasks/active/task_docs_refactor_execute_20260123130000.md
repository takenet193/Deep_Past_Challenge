---
type: task
id: task-20260123130000
title: ルール違反ドキュメントのリファクタリング実行
author: takeikumi
status: active
priority: high
project: docs_refactor
mode: docs
context: []
dependencies:
  - task-20260123120000
related_notes:
  - task_refactor_20260123
assignee: null
assigned_agent: null
due_date: null
created: 2026-01-23
updated: 2026-01-23
tags:
  - docs
  - refactor
  - execution
---

# タスク: ルール違反ドキュメントのリファクタリング実行

## 目的

1つ目のタスク（ルール違反ドキュメントの列挙）で特定した違反ファイルを、ルールに準拠するように実際に編集し直す。
長すぎるノートを適切に分割し、必要に応じてストラクチャーノートとして再構成する。

## 前提条件

- タスク `task-20260123120000`（ルール違反ドキュメントの列挙）が完了していること
- 違反ファイルのリストが作成されていること

## リファクタリング方針

### 1. 長すぎるノートの分割

#### 分割基準
- **300行超のファイル**: 必ず分割
- **150-300行のファイル**: 内容に応じて分割を検討
- **分割方法**: 
  - 内容の論理的なまとまりごとに分割
  - 見出し構造を基準に分割
  - 各分割ファイルは150行以下を目指す

#### 分割後の構成
- 元のファイルをストラクチャーノート（目次・ハブノート）として残す
- 分割した各ファイルへのリンクを配置
- 各分割ファイルは独立して読めるようにする

### 2. ファイル名と内容の不一致の修正

#### 修正方法
- ファイル名が内容を正確に表すように変更
- 例: `project_architecture.md` から以下を分割
  - `roadmap.md` - ロードマップ
  - `task_management.md` - タスク管理
  - `team_operations.md` - チーム運用
  - `project_architecture.md` - システム設計のみ
- **注意**: このルールの修正は**今回は実施しない**。後で判断する。

### 3. 見出しレベルの調整

#### 修正方法
- `####` 以降の見出しを `###` までに統合
- 深い見出し構造が必要な場合は、内容を分割して別ファイルにする

### 4. リンクの修正と統一

#### 修正方法
- リンク切れを修正
- ~~リンク表記をリポジトリトップからの相対パス形式に統一~~ **今回は実施しない（後で判断）**
  - 形式: `[title](./docs/title.md)`
  - wiki リンク形式は相対パス形式に変換
- permanent_notes 内のリンクは同じ permanent_notes 内のみを参照

### 5. 内容重複・冗長な説明の削除

#### 修正方法
- 重複した内容を削除し、リンクで参照する形に変更
- フォルダ構造の説明は各一回のみ（ページ内リンクで参照）
- gitignore, json, templates, python コードの説明もリンクで参照
- サンプルコードは `_samples.json` 等にまとめてリンクで参照
- **二重管理を避ける**

### 6. 長い行の修正

#### 修正方法
- 100文字を超える行を適切に改行
- コードブロック内は除く

### 7. リポジトリに含める/含めないの基準の適用

#### 対応方法
- 個人メモ（references, structure や思想ノート等）を特定
- 必要に応じて `.gitignore` に追加するか、別の場所に移動
- リポジトリに含めるべき内容のみを残す
- **注意**: このルールの適用は**今回は実施しない**。後で判断する。

## 手順

### フェーズ1: 準備
- [ ] 1つ目のタスクの結果（違反ファイルリスト）を確認
- [ ] リファクタリングの優先順位を決定
- [ ] 分割が必要なファイルの分割方針を決定

### フェーズ2: ファイル分割
- [ ] 300行超のファイルを特定し、分割方針を決定
- [ ] 各ファイルを論理的なまとまりごとに分割
- [ ] 分割後の各ファイルが150行以下になることを確認
- [ ] 元のファイルをストラクチャーノートに変換（各分割ファイルへのリンクを配置）

### フェーズ3: ファイル名と内容の一致
- [ ] ~~ファイル名と内容が不一致のファイルを特定~~ **今回は実施しない（後で判断）**
- [ ] ~~内容に応じてファイルを分割またはリネーム~~ **今回は実施しない（後で判断）**
- [ ] ~~ファイル名が内容を正確に表すように修正~~ **今回は実施しない（後で判断）**

### フェーズ4: 見出しレベルの調整
- [ ] `####` 以降の見出しを使用しているファイルを特定
- [ ] 見出しレベルを `###` までに統合、または内容を分割

### フェーズ5: リンクの修正
- [ ] リンク切れを修正
- [ ] ~~リンク表記を相対パス形式に統一~~ **今回は実施しない（後で判断）**
- [ ] permanent_notes 内のリンクが適切か確認

### フェーズ6: 重複・冗長な説明の削除
- [ ] 重複した内容を特定
- [ ] リンク参照に変更、または削除
- [ ] サンプルコードを `_samples.json` 等にまとめる

### フェーズ7: その他の修正
- [ ] 長い行（100文字超）を修正
- [ ] ~~個人メモを特定し、適切に対応~~ **今回は実施しない（後で判断）**

### フェーズ8: 最終確認
- [ ] 全てのファイルがルールに準拠しているか確認
- [ ] リンクが正しく機能しているか確認
- [ ] 分割後のファイル構造が論理的か確認

## 分割例

### 例: project_architecture.md の分割

**分割前**: 
- `project_architecture.md` (2000行以上)
  - システム設計
  - ロードマップ
  - タスク管理
  - チーム運用

**分割後**:
- `project_architecture.md` (ストラクチャーノート、100行以下)
  - システム設計へのリンク
  - ロードマップへのリンク
  - タスク管理へのリンク
  - チーム運用へのリンク
- `system_design.md` (150行以下)
- `roadmap.md` (150行以下)
- `task_management.md` (150行以下)
- `team_operations.md` (150行以下)

## 結果（実施報告）

### 分割したファイル

（ここに記録）

### リネームしたファイル

**注意**: この修正は今回は実施しない（後で判断するため）

（ここに記録）

### 削除したファイル（個人メモ等）

**注意**: この修正は今回は実施しない（後で判断するため）

（ここに記録）

### 修正したリンク

**注意**: リンク切れの修正のみ実施。リンク表記の統一は今回は実施しない（後で判断するため）

（ここに記録）

### その他の修正内容

（ここに記録）

## 次のアクション

- リファクタリング完了後、ドキュメントの検索性と可読性が向上したか確認
- 必要に応じて追加の調整を実施

<!-- AUTO:project:start -->
- [[project_docs_refactor|project: docs_refactor]]
<!-- AUTO:project:end -->

